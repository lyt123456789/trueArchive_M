<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link href="../../css/common.css" rel="stylesheet" type="text/css" media="screen"/>
	
    	
    <!--[if lt IE 9]><script src="../../js/jquery-1.11.1.min.js" type="text/javascript"></script><![endif]-->
    <!--[if gte IE 9]><!--><script src="../../js/jquery-2.1.1.min.js" type="text/javascript"></script><!--<![endif]-->

    <title>Document</title>
</head>

<body>

<div class="example">

<!--
	<h4 class="doc-title">默认tab切换</h4>

	<div class="doc-example">
	    <div class="tw-tabs" >
	        <ul class="tw-tabs-nav">
	            <li class="tw-nav-item">
	            	<a href="javascript: void(0)">标签1</a>
	            </li>
	            <li class="tw-nav-item">
	            	<a href="javascript: void(0)">标签</a>
	            </li>
	        </ul>
	        <div class="tw-tabs-bd">
	            <div class="tw-tab-panel">
	            	<div class="tw-panel-cnt">
	            		<div class="tw-tabs" >
					        <ul class="tw-tabs-nav">
					            <li class="tw-nav-item">
					            	<a href="javascript: void(0)">内标签11111aaaa</a>
					            </li>
					            <li class="tw-nav-item">
					            	<a href="javascript: void(0)">内标签11111bbbb</a>
					            </li>
					        </ul>
					        <div class="tw-tabs-bd">
					            <div class="tw-tab-panel">
					            	<div class="tw-panel-cnt">内内内内内内内内内内内内
					            		我就这样告别山下的家，我实在不愿轻易让眼泪留下。我以为我并不差不会害怕，我就这样自己照顾自己长大。我不想因为现实把头低下，我以为我并不差能学会虚假。怎样才能够看穿面具里的谎话？别让我的真心散的像沙。如果有一天我变得更复杂，还能不能唱出歌声里的那幅画？
					            	</div>
					            </div>
					            <div class="tw-tab-panel">
					            	<div class="tw-panel-cnt">
										内内内内内内内内内动态插入的标签内容1
					            	</div>
					            </div>
					        </div>
					    </div>
	            	</div>
	            </div>
	            <div class="tw-tab-panel">
	            	<div class="tw-panel-cnt">
						<div class="tw-tabs" >
					        <ul class="tw-tabs-nav">
					            <li class="tw-nav-item">
					            	<a href="javascript: void(0)">内标签222222aaaaaa</a>
					            </li>
					            <li class="tw-nav-item">
					            	<a href="javascript: void(0)">内标签222222bbbbbb</a>
					            </li>
					        </ul>
					        <div class="tw-tabs-bd">
					            <div class="tw-tab-panel">
					            	<div class="tw-panel-cnt">内内内内内内内内内内内内
					            		我就这样告别山下的家，我实在不愿轻易让眼泪留下。我以为我并不差不会害怕，我就这样自己照顾自己长大。我不想因为现实把头低下，我以为我并不差能学会虚假。怎样才能够看穿面具里的谎话？别让我的真心散的像沙。如果有一天我变得更复杂，还能不能唱出歌声里的那幅画？
					            	</div>
					            </div>
					            <div class="tw-tab-panel">
					            	<div class="tw-panel-cnt">
										内内内内内内内内内动态插入的标签内容1
					            	</div>
					            </div>
					        </div>
					    </div>
	            	</div>
	            </div>
	        </div>
	    </div>
	</div>
-->


	<div class="tw-tabs" style="width: 400px; margin:20px auto;">
        <ul class="tw-tabs-nav">
            <li class="tw-nav-item">
            	<a href="javascript: void(0)">Tab标签a</a>
            </li>
            <li class="tw-nav-item">
            	<a href="javascript: void(0)">Tab标签b</a>
            </li>
        </ul>
        <div class="tw-tabs-bd">
            <div class="tw-tab-panel">
            	<div class="tw-panel-cnt">
            		我就这样告别山下的家，我实在不愿轻易让眼泪留下。我以为我并不差不会害怕，我就这样自己照顾自己长大。我不想因为现实把头低下，我以为我并不差能学会虚假。怎样才能够看穿面具里的谎话？别让我的真心散的像沙。如果有一天我变得更复杂，还能不能唱出歌声里的那幅画？
            	</div>
            </div>
            <div class="tw-tab-panel">
            	<div class="tw-panel-cnt">
					如果有一天我变得更复杂，还能不能唱出歌声里的那幅画？bbbbbb
					
					<div class="tw-tabs">
				        <ul class="tw-tabs-nav">
				            <li class="tw-nav-item">
				            	<a href="javascript: void(0)">子Tab标签1</a>
				            </li>
				            <li class="tw-nav-item">
				            	<a href="javascript: void(0)">子Tab标签b</a>
				            </li>
				        </ul>
				        <div class="tw-tabs-bd">
				            <div class="tw-tab-panel">
				            	<div class="tw-panel-cnt">
				            		子子子子我就这样告别山下的家，我实在不愿轻易让眼泪留下。我以为我并不差不会害怕，我就这样自己照顾自己长大。我不想因为现实把头低下，我以为我并不差能学会虚假。怎样才能够看穿面具里的谎话？别让我的真心散的像沙。如果有一天我变得更复杂，还能不能唱出歌声里的那幅画？
				            	</div>
				            </div>
				            <div class="tw-tab-panel">
				            	<div class="tw-panel-cnt">
									子子子子子如果有一天我变得更复杂，还能不能唱出歌声里的那幅画？bbbbbb
				            	</div>
				            </div>
				        </div>
				    </div>
				    
            	</div>
            </div>
        </div>
    </div>

</div>


<script type="text/javascript">
	$(document).ready(function() {
		// $('.tw-tabs').tab();

		// $(".tw-tabs > .tw-nav-item")

		// $(".tw-tabs .tw-nav-item").eq(0).addClass("tw-active")
		// $('.tw-tabs').find(".tw-tab-panel").eq(0).show();
		
		// $(".tw-tabs .tw-nav-item").click(function(){
		// 	$(this).addClass("tw-active").siblings().removeClass('tw-active');
		// 	var index = $(this).index();
		// 	$('.tw-tabs').find(".tw-tab-panel").hide().eq(index).show();
		// })





		// $('.tw-tabs').find(".tw-nav-item").eq(0).addClass("tw-active");
		// $('.tw-tabs').find(".tw-tab-panel").eq(0).show();

		// $('.tw-tabs').find(".tw-nav-item").click(function(){
		// 	$(this).addClass("tw-active").siblings().removeClass('tw-active');
		// 	var index = $(this).index();
		// 	$('.tw-tabs').find(".tw-tab-panel").hide().eq(index).show();
		// })

		
		$('.tw-tabs').each(function(){
			var tabNav = $('>.tw-tabs-nav', $(this));
			var tabItem = $('>.tw-nav-item', tabNav);
			var tabBd = $('>.tw-tabs-bd', $(this));
			var tabPanel = $('>.tw-tab-panel', tabBd);
			tabItem.eq(0).addClass("tw-active");
			tabPanel.eq(0).show();
			tabItem.click(function(){
				$(this).addClass('tw-active').siblings().removeClass('tw-active');
				tabPanel.hide();
				var index = $(this).index();
				tabPanel.eq(index).show();
			})

		})



		// $('.tw-tabs').find(".tw-nav-item").hover(function(){
		// 	$(this).addClass("tw-active").siblings().removeClass('tw-active');
		// 	var index = $(this).index();
		// 	$('.tw-tabs').find(".tw-tab-panel").hide().eq(index).show();
		// },function(){

		// })



		// $('.tw-tabs').find(".tw-nav-item").each(function(index){
		// 	$(this).click(function(){
		// 		$(this).addClass("tw-active").siblings().removeClass('tw-active');
		// 		$('.tw-tabs').find(".tw-tab-panel").hide().eq(index).show();
		// 	})
		// })

	});






	(function($){
		$.fn.tab = function(options){
			var op = $.extend({
				eventType: "click",
				currentIndex: 0,
				tabNav: '.tw-tabs-nav',
				tabNavItem : '.tw-nav-item',
				tabCnt: '.tw-tabs-bd',
				tabPanel: '.tw-tab-panel',
				activeClass: 'tw-active'
			}, options);
			return this.each(function(){
				initTab($(this));
			});
			function initTab(twT){
				var twSelector = twT.add($("> *", twT));
				var twTabNav = $('>' + op.tabNav, twSelector);
				var twTabs = $('>' + op.tabNavItem, twTabNav);
				var twGroups = $('>' + op.tabPanel, twSelector);
				var activeClass = op.activeClass;
				twTabs.each(function(tabIndex) {
					var tabIdx = randomWord(false, 10);
					if (typeof($(this).attr('data-tab-idx')) == 'undefined'){
						$(this).attr('data-tab-idx',tabIdx);
						twGroups.eq(tabIndex).attr('data-tab-idx',tabIdx);
					}
				});

				var startTab = twTabs.eq(op.currentIndex).attr('data-tab-idx');
				switchTab(twT, startTab)

				if (op.eventType == "hover") {
					twTabNav.on('mouseover', op.tabNavItem, function(event){
						var tabIndex = $(this).attr('data-tab-idx');
						switchTab(twT, tabIndex)
					})
				}
				else {
					twTabNav.on('click', op.tabNavItem, function(event){
						var tabIndex = $(this).attr('data-tab-idx');
				        event.cancelBubble = true;
				        if (event.stopPropagation) event.stopPropagation();
						switchTab(twT, tabIndex);
					})
				}
			}

			function switchTab(twT, tabIndex){
				var twSelector = twT.add($("> *", twT));
				var twTabNav = $('>' + op.tabNav, twSelector);
				var twTabs = $('>' + op.tabNavItem, twTabNav);
				var twGroups = $('>' + op.tabPanel, twSelector);
				var activeClass = op.activeClass;
				var twTab = twTabs.eq(tabIndex);
				var twGroup = twGroups.eq(tabIndex);
				twTabs.each(function() {
					if($(this).attr('data-tab-idx') == tabIndex){
						twTab = $(this);
					}
				})
				twGroups.each(function() {
					if($(this).attr('data-tab-idx') == tabIndex){
						twGroup = $(this);
					}
				})
				if ((twTab.hasClass(activeClass) )) {
					twTabs.removeClass(activeClass);
					twGroups.hide();
				} else {
					twTabs.removeClass(activeClass);
					twTab.addClass(activeClass);
					twGroups.hide();
					twGroup.show();
				}
			}


			function destroyTab(twT, tabIndex){
				if (confirm('确定要删除此选项卡？')){
					var twSelector = twT.add($("> *", twT));
					var twTabNav = $('>' + op.tabNav, twSelector);
					var twTabs = $('>' + op.tabNavItem, twTabNav);
					var twGroups = $('>' + op.tabPanel, twSelector);
					var activeClass = op.activeClass;

					twTabs.each(function() {
						if($(this).attr('data-tab-idx') == tabIndex){
							twTab = $(this);
						}
					})
					twGroups.each(function() {
						if($(this).attr('data-tab-idx') == tabIndex){
							twGroup = $(this);
						}
					})
					twTab.remove();
					twGroup.remove();
					twTabs = $('>' + op.tabNavItem, twTabNav);
					if(twTabs.length == 1){
						twTabs.find(".tw-tab-del").hide();
					}
					if (twTab.hasClass(activeClass)) {
						var _eq = tabIndex-1 >= 0 ? tabIndex-1 : 0;
						twTabs.eq(_eq).trigger('click');
					} 
				}
				
			}

		}

	})(jQuery);



function randomWord(randomFlag, min, max){
    var str = "",
        range = min,
        arr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];
 
    // 随机产生
    if(randomFlag){
        range = Math.round(Math.random() * (max-min)) + min;
    }
    for(var i=0; i<range; i++){
        pos = Math.round(Math.random() * (arr.length-1));
        str += arr[pos];
    }
    return str;
}

</script>


</body>

</html>
