(function(a){a.fn.extend({parseXML:function(i,f){var g=a(i);var e={};var d="";var b={reg:/\{\w+\}/gi,lc:"{",rc:"}",script:true,scriptID:"script",tplBox:'<ul class="indexiframelist skin3">{item}</ul>{more}',tplhtml:{item:'<li><a href="{link}"><span class="timer">{pubDate}</span>{title}</a></li>',more:'<div class="moreLink"><a href="{link}">{title}</a></div>',script:"function {funcationname}{{funcationcode}}"}};var f=a.extend(b,f);a.each(f.tplhtml,function(l,k){var j=k.match(f.reg);e[l]=[];a(l,g).each(function(){var n=a(this),m=k;a.each(j,function(o,p){m=m.replace(p,n.find(p.replace(f.lc,"").replace(f.rc,"")).text())});e[l].push(m)})});var h=f.tplBox;d=f.tplBox.match(f.reg);a.each(d,function(j,k){h=h.replace(k,e[k.replace(f.lc,"").replace(f.rc,"")].join(""))});if(f.script){var c=document.createElement("script");c.type="text/javascript";c.text=e[f.scriptID].join("");a("html > head").append(c)}return h}})})(jQuery);
